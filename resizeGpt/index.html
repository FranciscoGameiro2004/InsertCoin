<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .ponto {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .ponto-original {
            background-color: red;
        }

        .ponto-redimensionado {
            background-color: blue;
        }
    </style>
</head>
<body>
    <img src="https://placehold.co/400" alt="Imagem" id="imagem" usemap="#mapa">
    <map name="mapa" style="cursor: pointer;">
        <area shape="poly" coords="100,100,300,100,300,300,100,300" href="#area1">
    </map>
    <div id="pontos-container"></div>
    <script>
        // Selecione a imagem, o mapa e a área
        const imagem = document.getElementById('imagem');
        const mapa = document.querySelector('map[name="mapa"]');
        const area = mapa.querySelector('area[shape="poly"]');
        const pontosContainer = document.getElementById('pontos-container');

        // Fator de escala para redimensionamento
        const scale = 0.5; // Por exemplo, 50% de escala

        // Adicione um evento de clique à área
        area.addEventListener('click', function() {
            console.log('Área clicada!');
            // Adicione aqui a ação que deseja executar quando a área for clicada
        });

        // Função para redimensionar o mapa e exibir pontos de marcação
        function resizeAndDisplayPoints() {
            // Obtenha as dimensões atuais da imagem
            const width = imagem.width;
            const height = imagem.height;

            // Obtenha as coordenadas da área poligonal
            const coords = area.getAttribute('coords').split(',');

            // Remova os pontos existentes
            pontosContainer.innerHTML = '';

            // Exiba os pontos de marcação originais (vermelhos)
            for (let i = 0; i < coords.length; i += 2) {
                const x = parseInt(coords[i]);
                const y = parseInt(coords[i + 1]);

                // Crie um ponto de marcação como um elemento <div>
                const ponto = document.createElement('div');
                ponto.className = 'ponto ponto-original';
                ponto.style.left = x + 'px';
                ponto.style.top = y + 'px';

                // Adicione o ponto de marcação ao container
                pontosContainer.appendChild(ponto);
            }

            // Exiba os pontos de marcação redimensionados (azuis)
            for (let i = 0; i < coords.length; i += 2) {
                const x = parseInt(coords[i]);
                const y = parseInt(coords[i + 1]);

                // Calcule as novas coordenadas com base no fator de escala
                const newX = Math.round(x * scale);
                const newY = Math.round(y * scale);

                // Crie um ponto de marcação redimensionado como um elemento <div>
                const pontoRedimensionado = document.createElement('div');
                pontoRedimensionado.className = 'ponto ponto-redimensionado';
                pontoRedimensionado.style.left = newX + 'px';
                pontoRedimensionado.style.top = newY + 'px';

                // Adicione o ponto de marcação redimensionado ao container
                pontosContainer.appendChild(pontoRedimensionado);
            }
        }

        // Chame a função para redimensionar e exibir os pontos quando a imagem for carregada
        imagem.addEventListener('load', resizeAndDisplayPoints);
    </script>
</body>
</html>
